!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).CropTag=e()}(this,function(){"use strict";function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function e(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=document.createElement(t);return Object.keys(e).forEach(function(t){r.setAttribute(t,e[t])}),n&&(r.innerHTML=n),r}function r(t,r,o){var i=t instanceof NodeList||t instanceof HTMLCollection?e(t):t instanceof Node?[t]:[];if(0===i.length){if("string"!=typeof t)throw new TypeError("Image should be a valid DOM element or URL");if(!(o instanceof Node))throw new TypeError("Target node is unavailable");var a=n("img",{src:t,alt:r||"CropTag image"});o.appendChild(a),i.push(o)}!function(t){t.forEach(function(t){var e=n("div",{style:"position: relative; width: 100%; height: 100%;",class:"crop-tag-wrap"});t.parentNode.insertBefore(e,t),e.appendChild(t),e.appendChild(n("div",{style:"position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 1;",class:"crop-tag-mask"}))})}(i),function(t){var e=[];return Promise.all(t.map(function(t){return new Promise(function(n){if(t.complete){var r=0===t.naturalWidth||0===t.naturalHeight;r&&t.classList.add("crop-tag-error"),n(),e.push({src:t.src,width:t.naturalWidth,height:t.naturalHeight,hasErrors:r})}else t.onload=function(){n(),e.push({src:t.src,width:t.naturalWidth,height:t.naturalHeight,hasErrors:!1})},t.onerror=function(){t.classList.add("crop-tag-error"),n(),e.push({src:t.src,width:t.naturalWidth,height:t.naturalHeight,hasErrors:!0})}})})).then(function(){return e})}(i).then(function(t){return console.log(t)})}return function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t=t||{},this.config=Object.assign({dots:!0,edges:!0,drag:!0,focussedTags:!1,image:null,imageAlt:null,target:null,onDragStart:null,onDrag:null,onDrapStop:null,onResize:null},t);var n=this.config;r(n.image,n.imageAlt,n.target)}var n,o,i;return n=e,(o=[{key:"getAll",value:function(){}},{key:"get",value:function(t){}},{key:"on",value:function(t,e){}},{key:"off",value:function(t,e){}}])&&t(n.prototype,o),i&&t(n,i),e}()});
//# sourceMappingURL=index.js.map
